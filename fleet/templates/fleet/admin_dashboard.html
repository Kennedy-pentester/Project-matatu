{% extends "base.html" %} {% load static %} {% block extra_css %}
<link rel="stylesheet" href="{% static 'fleet/admin.css' %}" />
{% endblock %} {% block content %}
<div class="dashboard">
  <aside class="sidebar">
    <h2>Admin Panel</h2>
    <ul>
      <li><a href="#">Dashboard</a></li>
      <li><a href="{% url 'matatu_list' %}">Manage Matatus</a></li>
      <li><a href="{% url 'driver_list' %}">Manage Drivers</a></li>
      <li><a href="{% url 'tout_list' %}">Manage Touts</a></li>
      <li><a href="{% url 'shift_list' %}">Manage Shifts</a></li>
      <li><a href="{% url 'logout' %}">Logout</a></li>
    </ul>
  </aside>

  <div class="dashboard-content">
    <h2>Welcome, {{ user.username }}!</h2>
    <div class="overview">
      <h3>Overview</h3>
      <div class="stats">
        <div class="stat">
          <h4>Total Matatus</h4>
          <p>{{ total_matatus }}</p>
        </div>
        <div class="stat">
          <h4>Total Drivers</h4>
          <p>{{ total_drivers }}</p>
        </div>
        <div class="stat">
          <h4>Total Touts</h4>
          <p>{{ total_touts }}</p>
        </div>
        <div class="stat">
          <h4>Total Shifts</h4>
          <p>{{ total_shifts }}</p>
        </div>
      </div>
    </div>

    <div class="recent-activity">
      <h3>Recent Activity</h3>
      <ul>
        {% for activity in recent_activities %}
        <li>
          {{ activity.message }} ({{ activity.created_at|date:"Y-m-d H:i" }})
        </li>
        {% empty %}
        <li>No recent activity.</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
