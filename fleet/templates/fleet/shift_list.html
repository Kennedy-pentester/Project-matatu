{% extends "base.html" %}

{% block content %}
<div class="dashboard">
  {% comment %} sidebar {% endcomment %}
  <aside class="sidebar">
    <h2>Admin Panel</h2>
    <ul>
      <li><a href="{% url 'admin_dashboard' %}">Dashboard</a></li>
      <li><a href="{% url 'matatu_list' %}">Manage Matatus</a></li>
      <li><a href="{% url 'driver_list' %}">Manage Drivers</a></li>
      <li><a href="{% url 'tout_list' %}">Manage Touts</a></li>
      <li><a href="{% url 'shift_list' %}" class="active">Manage Shifts</a></li>
      <li><a href="{% url 'logout' %}">Logout</a></li>
    </ul>
  </aside>

  {% comment %} main content {% endcomment %}
  <div class="dashboard-content">
    <h2>Shift List</h2>
    <table>
      <thead>
        <tr>
          <th>Matatu</th>
          <th>Driver</th>
          <th>Tout</th>
          <th>Shift Type</th>
          <th>Start Time</th>
          <th>End Time</th>
        </tr>
      </thead>
      <tbody>
        {% for shift in shifts %}
        <tr>
          <td>{{ shift.matatu.plate_number }}</td>
          <td>{{ shift.driver.user.username }}</td>
          <td>{{ shift.tout.user.username }}</td>
          <td>{{ shift.shift_type }}</td>
          <td>{{ shift.start_time }}</td>
          <td>{{ shift.end_time }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No shifts found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
